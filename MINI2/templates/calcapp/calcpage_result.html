{% extends 'mainpage/mainpage.html' %}
{% block content %}

<!-- css/js -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-2.2.4.js"></script>
<script src="/static/progressbar.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.3/waypoints.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0.0/jquery.counterup.min.js"></script>

<script>

    $(document).ready(function(){
        var $pline = $('.progressbar.line');
        var $pcircle = $('.progressbar.circle');
        $pline.each(function(i){
            var line = new ProgressBar.Line(this, {
                strokeWidth:6,
                trailWidth:6,
                duration:3000,
                easing:'easeInOut',
                text:{
                    style:{
                        color:'inherit',
                        position:'absolute',
                        right:'0',
                        top:'-30px',
                        padding:0,
                        margin:0,
                        transform: null
                    },
                    autoStyleContainer: false
                },
                step: function(state, line, attachment){
                    line.setText(Math.round(line.value()*100)+'%');
                }
            });
            var value = ($(this).attr('data-value')/100);
            $pline.waypoint(function(){
                line.animate(value);
            }, {
                offset: '100%'
            })
        });

        $pcircle.each(function(i){
            var circle = new ProgressBar.SemiCircle(this,{
                strokeWidth:9,
                trailWidth:5,
                duration:2000,
                easing: 'easeInOut',
                step: function(state, circle, attachment){
                    circle.setText(Math.round(circle.value()*100));
                }
            });

            var value = ($(this).attr('data-value')/100);
            $pcircle.waypoint(function(){
                circle.animate(value);
            },{
                offset: "100%"
            })
        });
    });

</script>

<style>
    :root{
        --color-red:#d75959;
        --color-yellow: #f5c463;
        --color-green: #9ccd7e;
        --color-blue: #5ca7db;
        --rgb-black:0,0,0;
    }

    /* .wrapper{
        margin-top: 150px;
    }   */

    .progressbar:not(.circle) svg,
    .progressbar:not(.circle) svg path{
        border-radius: 20px;
    }

    .progressbar svg path:first-child{
        stroke: rgba(var(--rgb-black), 0.09);
    }

    .progressbar.border{
        border: 1px solid transparent;
        box-sizing: border-box;
    }

    .progressbar.border svg path:first-child{
        stroke: transparent;
    }

    .progressbar.line svg{
        height: 10px;
    }

    .progressbar.line.border svg{
        height: 8px;
    }

    .progressbar.circle{
        position: relative;
        margin: 0 auto 30px;
        width: 170px;
        height: 85px;
    }

    .progressbar.circle .progressbar-text{
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        margin: 0;
        font-size: 40px;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        color: white !important;
        font-weight: bold;
    }

    .progressbar.circle .progressbar-text:after{
        content: "%";
        display: block;
        font-size: 20px;
        padding-left: 2px;
    }

    .progressbar .red svg path:last-child{
        stroke: var(--color-red)
    }

    .progressbar .red svg path:last-child{
        stroke: var(--color-blue)
    }

    .progressbar .red svg path:last-child{
        stroke: var(--color-green)
    }

    .progressbar .red svg path:last-child{
        stroke: var(--color-yellow)
    }

h5{

}
</style>

{% include 'calcapp/calcpage_common.html' %}

<!-- Breadcrumb Section Begin -->
<section class="breadcrumb-option spad set-bg" data-setbg="/static/img/breadcrumb-bg.jpg">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <div class="breadcrumb__text">
                    <h2>ë§ˆì´í˜ì´ì§€</h2>
                    <div class="breadcrumb__links">
                        <a href="{% url 'mainpage:mainhome' %}">Home</a>
                        <a href="{% url 'calcapp:calcpage_user' %}">ë‚´ì •ë³´</a>
                        <span>ê³„ì‚°ê¸°</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Breadcrumb Section End -->

<!-- ê³„ì‚°ê¸°, ìœ ì €ì •ë³´ Start-->
<section class="pricing spad">
    <div class="container">
        <div class="row">
            <div class="col-6 col-md-4">
                <div class="card" style="width: 30rem;">
                    <div class="card-body">
                        <h3 class="card-title">êµìœ¡ ìˆ˜ë‹¹ ê³„ì‚°ê¸°ğŸ§®</h3>
                        <h6 class="card-subtitle mb-2 text-muted">(ì¶œì„ì¼ìˆ˜ ê¸°ì¤€)</h6>
                        <p class="card-text">
                            Insert contents
                        </p>
                        <form action="calcpage" method="post">
                            {% csrf_token %}
                            í•˜ë£¨ 4ì‹œê°„ ì´ìƒ 20ì¼ ê¸°ì¤€ìœ¼ë¡œ ì¶œì„ì¼ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”.<br><br>
                            <input type="text" name="num1" placeholder="ex) 19 or 20">
                            <input type="submit">
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-4">
                <div class="card" style="width: 30rem;">
                    <div class="card-body">
                        <h3 class="card-title">ì§€ê¸‰ ê¸°ì¤€ğŸ“Œ</h3>
                        <!-- <h6 class="card-subtitle mb-2 text-muted">subtitle</h6> -->
                        <p class="card-text">
                            !ì›” ì¶œì„ë¥ ì´ í•˜ë£¨ 4ì‹œê°„ ì´ìƒ 80% ì´ìƒì¼ ê²½ìš° êµìœ¡ìˆ˜ë‹¹ ì§€ê¸‰<br>
                            !êµìœ¡ìˆ˜ë‹¹ ì§€ê¸‰ê¸ˆì•¡ì€ ì›” ìµœëŒ€ 300,000ì›<br>
                        </p>
                        <!-- <a href="#" class="card-link">Card link</a> -->
                        <!-- <a href="#" class="card-link">Another link</a> -->
                    </div>
                </div>
            </div>

            <div class="col-6 col-md-4">
                <div class="card" style="width: 30rem;">
                    <div class="col-xs-6 col-md-3">
                        {% if image %}
                        <img class="round" src="{{image.url}}" width="200"> <br>
                        {% else %}
                        <img class="round" src="https://i.stack.imgur.com/34AD2.jpg" width="200"> <br>
                        {% endif %}
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">profile imeage</h3>
                        {% if nickname %}
                        <h6 class="card-subtitle mb-2 text-muted">{{nickname}}</h6>
                        {% endif %}
                        <!-- {% if user == profile_user %} ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì™€ í”„ë¡œí•„ ì†Œìœ ìê°€ ì¼ì¹˜í•  ë•Œë§Œ í”„ë¡œí•„ í¸ì§‘ì´ ê°€ëŠ¥í•˜ë„ë¡ -->
                        <a href="#"><button type="button" class="btn btn-default">í”„ë¡œí•„ í¸ì§‘</button></a></h2>
                        <!-- {% endif %} -->
                        <p class="card-text">
                            username: {% if username %} {{username}} {% endif %}<br>
                            description: {% if description %} {{description}} {% endif %}<br>
                        </p>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <a href="#" class="card-link">í”„ë¡œí•„ ìˆ˜ì •</a>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-6 col-md-4">
                <div class="card" style="width: 30rem;">
                    <div class="card-body">
                        <h5 class="card-title">Card title</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                        <p class="card-text">Some quick example text to build on the card title and make up the bulk of
                            the card's content.</p>
                        <a href="#" class="card-link">Card link</a>
                        <a href="#" class="card-link">Another link</a>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-4">
                <div class="card" style="width: 30rem;">
                    <div class="card-body">
                        <h5 class="card-title">Card title</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                        <p class="card-text">Some quick example text to build on the card title and make up the bulk of
                            the card's content.</p>
                        <a href="#" class="card-link">Card link</a>
                        <a href="#" class="card-link">Another link</a>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-4">
                <div class="contact__widget">
                    <div class="contact__widget__icon">
                        <i class="fa fa-phone"></i>
                    </div>
                    <div class="contact__widget__text">
                        <h5>ì•Œë¦¼</h5>
                        <p>ê³µì§€ì‚¬í•­ í™•ì¸í•˜ì„¸ìš”.</p>
                    </div>
                </div>
                <div class="contact__widget">
                    <div class="contact__widget__icon">
                        <i class="fa fa-envelope"></i>
                    </div>
                    <div class="contact__widget__text">
                        <h5>ì±„íŒ…</h5>
                        <p>ì±„íŒ…ì„ ì‹œì‘í•˜ì„¸ìš”.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ê³„ì‚°ê¸°, ìœ ì €ì •ë³´ End-->

<!-- ì¶œì„ë¥  í˜„í™© graph Start -->
<div class="wrapper image-wrapper">
    <div class="container inner">
        <div class="row">
            <div class="col-md-10 offset-md-1">
                <h2 class="title-color text-center">Our Progress</h2>
                <div class="row text-center">
                    <div class="col-lg-3">
                        <div class="progressbar circle blue" data-value="75"></div>
                        <h5>attendance</h5>
                        <p>
                            ã…‡ã…‡
                        </p>
                    </div>

                    <div class="col-lg-3">
                        <div class="progressbar circle green" data-value="75"></div>
                        <h5>attendance</h5>
                        <p>
                            ã…‡ã…‡
                        </p>
                    </div>

                    <div class="col-lg-3">
                        <div class="progressbar circle red" data-value="75"></div>
                        <h5>attendance</h5>
                        <p>
                            ã…‡ã…‡
                        </p>
                    </div>

                    <div class="col-lg-3">
                        <div class="progressbar circle yellow" data-value="75"></div>
                        <h5>attendance</h5>
                        <p>
                            ã…‡ã…‡
                        </p>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
<!-- ì¶œì„ë¥  í˜„í™© graph End -->

<section class="pricing spad">
    <div class="container">
        <div class="card">
            <div class="card-body">
                graph
                <h3>ğŸ“ìƒì„¸í˜„í™©</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">ì´ë¦„</th>
                            <th scope="col">ì¶œì„ì¼ìˆ˜</th>
                            <th scope="col">ê²°ì„ì¼ìˆ˜</th>
                            <th scope="col">ì¶œì„ì‹œê°„</th>
                            <th scope="col">ì¶œì„ë¥ </th>
                            <th scope="col">dat_rate</th>
                            <th scope="col">ëˆ„ì ì¶œì„ë¥ </th>
                            <th scope="col">day_cum_rate</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for attendance in attnedances %}
                        <tr>
                            <th scope="row">{{attendance.name}}</th>
                            <td>{{attendance.attend}}</td>
                            <td>{{attendance.absent}}</td>
                            <td>{{attendance.time}}</td>
                            <td>{{attendance.time_rate}}%</td>
                            <td>{{attendance.day_rate}}%</td>
                            <td>{{attendance.time_cum_rate}}%</td>
                            <td>{{attendance.day_cum_rate}}%</td>
                        </tr>
                        {% endfor %}
                    <tbody>
                </table>

                <h3>ğŸ“ìˆ˜ë£Œí˜„í™©</h3>
                <!-- progress -->
                <div class="progress">
                    <div class="progress-bar bg-success" role="progressbar" style="width: 25%" aria-valuenow="25"
                        aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <!-- progress -->
                    {% for attendance in attnedances %}

                        {% if attendance.name == "ê¹€ì†Œí¬" %}
                        <span>
                            ì§€ê¸ˆ ê¹Œì§€ {{attendance.time}} / 960 ì‹œê°„ ì™„ë£Œ í–ˆìŠµë‹ˆë‹¤.
                            <br>
                            {% if attendance.time < 800 %} 
                            {{attendance.time}} ìˆ˜ë£Œ 'ë¶ˆê°€' í•©ë‹ˆë‹¤. 
                            {% elif attendance.time >= 800 %}
                            {{attendance.time}} ìˆ˜ë£Œ 'ê°€ëŠ¥' í•©ë‹ˆë‹¤.
                        </span>
                        {% endif %}
                        {% endif %}
                    {% endfor %}
            </div>
        </div>
    </div>
</section>

<!-- ë²„íŠ¼ -->
<!-- <button 
        type="button" 
        class="btn btn-primary" 
        data-toggle="popover" 
        data-placement="top" 
        title="ì§€ê¸‰ ê¸°ì¤€" 
        data-content="
        ğŸ“Œë‹¨ìœ„ê¸°ê°„*ì¶œì„ë¥ ì´ 80% ì´ìƒì¼ ê²½ìš°ì— í•œí•˜ì—¬ êµìœ¡ìˆ˜ë‹¹ ì§€ê¸‰<br>
        ğŸ“Œêµìœ¡ìˆ˜ë‹¹ ì§€ê¸‰ê¸ˆì•¡ì€ ì›” ìµœëŒ€ 300,000ì›<br>
        (ë‹¨ìœ„ê¸°ê°„: êµìœ¡ ì‹œì‘ì¼ì„ ê¸°ì¤€ìœ¼ë¡œ 1ê°œì›” ë‹¨ìœ„ë¡œ ë‚˜ëˆˆ ê¸°ê°„)">
        ì§€ê¸‰ ê¸°ì¤€
</button> -->
<!-- <script>
    $(function () {
        $('[data-toggle="popover"]').popover()
    });
</script> -->

{% endblock %}